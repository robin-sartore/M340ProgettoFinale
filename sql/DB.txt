CREATE DATABASE progetto;
USE  progetto;
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE,
  password TEXT,
  role TEXT
);

CREATE TABLE vm_templates (
  id INTEGER PRIMARY KEY,
  name TEXT,
  cpu INTEGER,
  ram INTEGER,
  disk INTEGER
);

CREATE TABLE vm_requests (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER,
  template_id INTEGER,
  hostname TEXT,
  status TEXT
);

INSERT INTO users VALUES
(1,'admin','$2y$10$Q9oE0f8Gm5wzLHZp8y0F0e7wYzfdWkLwNl02u1z3CgkD1T8kHkREe','admin'),
(2,'user','$2y$10$Q9oE0f8Gm5wzLHZp8y0F0e7wYzfdWkLwNl02u1z3CgkD1T8kHkREe','user');

INSERT INTO vm_templates VALUES
(1,'Bronze',1,1024,10),
(2,'Silver',2,4096,40),
(3,'Gold',4,8192,80);

    vm_templates VALUES
    (1,'bronze',1,1024,10,9000),
    (2,'silver',2,4096,40,9000),
    (3,'gold',4,8192,80,9000);


mysql
-- Crea database
CREATE DATABASE IF NOT EXISTS progetto;
USE progetto;

-- Tabella utenti
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(255) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL,
  role VARCHAR(50) NOT NULL
);

-- Tabella template VM
CREATE TABLE vm_templates (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  cpu INT NOT NULL,
  ram INT NOT NULL,
  disk INT NOT NULL,
  proxmox_template_id INT DEFAULT NULL
);

-- Tabella richieste VM
CREATE TABLE vm_requests (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  template_id INT NOT NULL,
  hostname VARCHAR(255) NOT NULL,
  status VARCHAR(50) NOT NULL,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (template_id) REFERENCES vm_templates(id)
);

-- Inserimento utenti
INSERT INTO users (username, password, role) VALUES
('admin', '$2y$10$Q9oE0f8Gm5wzLHZp8y0F0e7wYzfdWkLwNl02u1z3CgkD1T8kHkREe', 'admin'),
('user', '$2y$10$Q9oE0f8Gm5wzLHZp8y0F0e7wYzfdWkLwNl02u1z3CgkD1T8kHkREe', 'user');

-- Inserimento template VM
INSERT INTO vm_templates (name, cpu, ram, disk, proxmox_template_id) VALUES
('Bronze', 1, 1024, 10, 9000),
('Silver', 2, 4096, 40, 9000),
('Gold', 4, 8192, 80, 9000);
